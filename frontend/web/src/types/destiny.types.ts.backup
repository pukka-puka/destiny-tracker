// src/types/destiny.types.ts

export interface DestinyParameters {
  love: number;      // 恋愛運
  work: number;      // 仕事運
  money: number;     // 金運
  health: number;    // 健康運
  social: number;    // 対人運
  growth: number;    // 成長運
}

export interface DailyFortune {
  overall: number;     // 総合運 (1-100)
  luckyColor: string;  // ラッキーカラー
  luckyNumber: number; // ラッキーナンバー
  advice: string;      // 今日のアドバイス
}

// タロットカードのデータ
export interface TarotCard {
  id: string;
  name: string;
  nameJa: string;
  meaning: string;
  reversed?: boolean;
  imageUrl?: string;
}

// タロット占い結果
export interface TarotReadingData {
  cards: TarotCard[];           // 引いたカード（通常3枚）
  spread: 'past-present-future' | 'three-cards' | 'celtic-cross';
  interpretation: string;        // 総合的な解釈
  shortTermAdvice: string;      // 短期的なアドバイス
  detailedMeanings: {
    past?: string;
    present?: string;
    future?: string;
  };
}

// 手相占い結果
export interface PalmReadingData {
  imageUrl: string;              // 撮影した手相画像
  lines: {
    life: string;               // 生命線
    heart: string;              // 感情線
    head: string;               // 頭脳線
    fate?: string;              // 運命線
  };
  interpretation: string;        // 総合的な解釈
  personalityTraits: string[];  // 性格特徴
  longTermForecast: string;     // 中長期的な運勢
}

// 拡張された占い記録
export interface DestinyReading {
  id: string;
  userId: string;
  createdAt: Date;
  updatedAt: Date;
  readingType: 'daily-tarot' | 'palm' | 'special';
  parameters: DestinyParameters;
  daily?: DailyFortune;
  tarotReading?: TarotReadingData;
  palmReading?: PalmReadingData;
}

export interface UserStats {
  totalReadings: number;        // 総占い回数
  tarotReadings: number;        // タロット占い回数
  palmReadings: number;         // 手相占い回数
  currentStreak: number;        // 連続占い日数
  lastReadingDate: Date;        // 最後の占い日
  averageParameters: DestinyParameters;
  bestDay: {
    date: Date;
    overall: number;
  };
}

// パラメータの色定義
export const PARAMETER_COLORS: Record<keyof DestinyParameters, string> = {
  love: '#FF6B9D',    // ピンク
  work: '#4ECDC4',    // ターコイズ
  money: '#FFD93D',   // ゴールド
  health: '#95E77E',  // グリーン
  social: '#A8E6CF',  // ミント
  growth: '#C7B3FF'   // ラベンダー
};

// パラメータのラベル定義
export const PARAMETER_LABELS: Record<keyof DestinyParameters, string> = {
  love: '恋愛運',
  work: '仕事運', 
  money: '金運',
  health: '健康運',
  social: '対人運',
  growth: '成長運'
};

// パラメータのアイコン定義（絵文字）
export const PARAMETER_ICONS: Record<keyof DestinyParameters, string> = {
  love: '❤️',
  work: '💼',
  money: '💰',
  health: '🏃',
  social: '👥',
  growth: '🌱'
};
